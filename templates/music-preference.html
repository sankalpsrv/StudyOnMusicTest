<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Math and Reading Practice</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            margin-bottom: 20px;
        }
        .problem {
            margin-bottom: 15px;
        }
        .question {
            font-weight: bold;
        }
    #conditionalContent { display: none; } /* Initially hide the content */
    </style>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var audio = document.getElementById('musicPlayer');
            var conditionalContent = document.getElementById('conditionalContent');
            var isAudioPlaying = false;

            function playAudio() {
                if (audio.paused) {
                    audio.play()
                        .then(() => {
                            // Once audio starts playing, show the conditional content
                            conditionalContent.style.display = 'block';
                            var isAudioPlaying = false;
                        })
                        .catch(error => {
                            console.error('Error attempting to play audio:', error);
                        });
                }
            }

            // Check if the page is being viewed
            function handleVisibilityChange() {
                if (document.hidden) {
                    audio.pause();
                } else if (isAudioPlaying) {
                    audio.play();
                }
            }

            // Event listener for page visibility change
            document.addEventListener("visibilitychange", handleVisibilityChange, false);

            // Optionally, if you want to ensure content is only visible when audio is actively playing
            audio.addEventListener('play', function() {
                conditionalContent.style.display = 'block';
                isAudioPlaying = true;
            });

            audio.addEventListener('pause', function() {
                conditionalContent.style.display = 'none';
                isAudioPlaying = false;
            });
        });
    </script>
</head>
<body>
    <h1> PRESS PLAY TO SOLVE QUESTIONS</h1>
    Your preferred music genre is {{ music_genre }}
    <audio id = "musicPlayer" controls autoplay>
        {% if music_genre == "Instrumental" %}
        <source src="/static/instrumental.mp3" type = "audio/mpeg">
        {% elif music_genre == 'Classical' %}
        <source src="/static/classical.mp3" type = "audio/mpeg">
        {% elif music_genre == 'Electronic' %}
        <source src="/static/electronic.mp3" type = "audio/mpeg">
        {% elif music_genre == 'Pop' %}
        <source src="/static/pop.mp3" type = "audio/mpeg">
        {% endif %}
    </audio>

    <div id = "conditionalContent">
    <h1>Select the correct option</h1>
    <form id="Problems", method="POST">
    <div class="container">
        <h2>Arithmetic Problems</h2>
        <div class="problem">
            <div class="question">1. Solve: 2 + 3 * (8 / 4)</div>
            <input type="radio" id="a11" name="arithmetic1" value="A"><label for="a11">5</label><br>
            <input type="radio" id="a12" name="arithmetic1" value="B"><label for="a12">8</label><br>
            <input type="radio" id="a13" name="arithmetic1" value="C"><label for="a13">10</label><br>
        </div>
        <div class="problem">
            <div class="question">2. Solve: (15 - 5) / 2</div>
            <input type="radio" id="a21" name="arithmetic2" value="A"><label for="a21">5</label><br>
            <input type="radio" id="a22" name="arithmetic2" value="B"><label for="a22">10</label><br>
            <input type="radio" id="a23" name="arithmetic2" value="C"><label for="a23">7.5</label><br>
        </div>
        <div class="problem">
            <div class="question">3. Solve: 4 * (6 + 9) / 3</div>
            <input type="radio" id="a31" name="arithmetic3" value="A"><label for="a31">20</label><br>
            <input type="radio" id="a32" name="arithmetic3" value="B"><label for="a32">18</label><br>
            <input type="radio" id="a33" name="arithmetic3" value="C"><label for="a33">30</label><br>
        </div>
    </div>

    <div class="container">
        <h2>Reading Comprehension Problem</h2>
        <p>It is not luck but labour that makes fortune, says an American writer, Sometimes something is waiting to happen: Labor with sharp eyes and strong will makes something happen. Fortune lies in bed and the postman wants to bring him news of the inheritance, labor turns to six o’clock and lays the foundation of skill with a busy pen and ringing hammer. Fortune moans, labour watches, fortune depends on chance, labour depends on character.

Fortune slides down into self-indulgence; Labor moves upward and aspires to freedom. Conviction, therefore, is the mother of good fortune. In other words, a man’s success in life will be proportional to his efforts, his art and his attention to the little things.</p>
        <div class="problem">
            <div class="question">Who said, “It is not luck but labour that makes fortune”?</div>
            <input type="radio" id="r11" name="reading1" value="A"><label for="r11">A) An American Writer</label><br>
            <input type="radio" id="r12" name="reading1" value="B"><label for="r12">B) An English Writer</label><br>
            <input type="radio" id="r13" name="reading1" value="C"><label for="r13">C) An Indian Writer</label><br>
        </div>
        <div class="problem">
            <div class="question">According to the writer, what makes something happen?</div>
            <input type="radio" id="r21" name="reading2" value="A"><label for="r21">A) Luck</label><br>
            <input type="radio" id="r22" name="reading2" value="B"><label for="r22">B) Labour with sharp eyes and strong will</label><br>
            <input type="radio" id="r23" name="reading2" value="C"><label for="r23">C) Chance</label><br>
        </div>
        <div class="problem">
            <div class="question">What does the writer say about fortune and labour? </div>
            <input type="radio" id="r31" name="reading3" value="A"><label for="r31">A) Fortune depends on chance and labour depends on luck </label><br>
            <input type="radio" id="r32" name="reading3" value="B"><label for="r32">B) Fortune depends on chance and labour depends on character</label><br>
            <input type="radio" id="r33" name="reading3" value="C"><label for="r33">C) Fortune depends on luck and labour depends on chance </label><br>
        </div>
        <div class="problem">
            <div class="question">What is the mother of good fortune according to the writer? </div>
            <input type="radio" id="r41" name="reading4" value="A"><label for="r41">A) Conviction</label><br>
            <input type="radio" id="r42" name="reading4" value="B"><label for="r42">B) Labour</label><br>
            <input type="radio" id="r43" name="reading4" value="C"><label for="r43">C) Attention to little things</label><br>
        </div>
        <div class="problem">
            <div class="question">According to the writer, how is a man’s success in life determined?</div>
            <input type="radio" id="r51" name="reading5" value="A"><label for="r51">A) By luck </label><br>
            <input type="radio" id="r52" name="reading5" value="B"><label for="r52">B) By his efforts, art, and attention to the little things  </label><br>
            <input type="radio" id="r53" name="reading5" value="C"><label for="r53">C) By chance </label><br>
        </div>
    </div>
        <input type="submit" value="Next">
    </form>
    </div>
</body>
</html>
